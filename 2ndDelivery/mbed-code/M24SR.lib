http://os.mbed.com/teams/ST/code/M24SR/#11161008d77a5681b714f9a556d5c2e359d0b12c